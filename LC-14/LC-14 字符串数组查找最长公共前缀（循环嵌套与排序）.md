---
Title: LC-14 字符串数组查找最长公共前缀（循环嵌套与排序）
Type: E
tags:
  - Array
  - String
DateStarted: 2023-09-06
DateModified: 2023-09-06
status: Published
SourceLink:
---
## 代码实现
本题要求编写一个函数查找字符串数组中的最长公共前缀。如果不存在公共前缀，返回空字符串 `""`。本文介绍两种方案：
#### 方案一：嵌套循环
时间复杂度 `O(n^2)`，空间复杂度 `O(1)`，用 JavaScript 实现如下：

```js
var longestCommonPrefix = function (strs) {
	// 定义初始前缀与字符串匹配元素
  let prefix = "";
  let match = "";
  // 若数组长度为 1，返回第一位元素
  if (strs.length === 1) {
    return strs[0];
  }
  // 依次比较每个前缀元素
  for (let i = 0, j = 0; j < strs[i].length; j++) {
	  // 依次比较每个字符串对应的前缀元素是否匹配
    for (i = 0; i < strs.length - 1; i++) {
      match = strs[i][j];
      if (match != strs[i + 1][j]) {
        return prefix;
      } else {
        break;
      }
    }
    prefix += match;
  }
  return prefix;
};
```

#### 方案二（更优）：数组排序后比较
时间复杂度 `O(n*log(n))`，空间复杂度 `O(1)`，用 JavaScript 实现如下：

```js
var longestCommonPrefix = function (strs) {
  if (strs.length === 0) {
    return "";
  }
  // 排序字符串数组，以便在比较时只需考虑第一个和最后一个字符串
  strs.sort();
  const firstStr = strs[0];
  const lastStr = strs[strs.length - 1];
  let prefix = "";
  // 比较第一个和最后一个字符串的字符
  for (let i = 0; i < firstStr.length; i++) {
    if (firstStr[i] === lastStr[i]) {
      prefix += firstStr[i];
    } else {
      break;
    }
  }
  return prefix;
};
```

## 实现过程总结
### I-确定变量 
1. 思考给定变量或已知变量: 
	- `strs`
2. 定义其他需要的输入变量
	- 初始前缀：`prefix`
	- 字符串迭代元素：`match`
	- 第一个（最短）和最后一个（最长）字符串：`firstStr`, `lastStr`
3. 输出变量: 
	- `""`
	- `prefix`
	- `strs[0]`
### F-确定循环条件
实现方式：
- 字符串内循环 + 数组外循环 
- 小于最短字符串长度 `i < firstStr.length`
### D-考虑并测试所有可能情况，绘图可视化
> 这一步可用 DrawIO 绘图或动笔记录，能避免遗漏，并减轻大脑负担，每通过一种情况，标绿一个，确保所有边际情况都在内即可，可以不用测试太多……：

- 初版流程图：
	- ![[LC-G-14.svg|400]]
### S-优化精简，勿死磕，善用 GPT
> 这一步实在不行不要死磕，不要硬抗…… 不防看看题解，或者问 GPT 或许直接豁然开朗，省下不少时间
- 二版：
### C-代码实现除 BUG，善用 GPT
- ! 切记 JS 条件判断不要用 `=`，而是用 `===` 

### 本题难点与相关知识点
- ? 怎样对比数组中的字符串
	- $ `strs.sort()` 先排序，减少比较次数
- ? 相关 JS 字符串方法
	- `startsWith()`