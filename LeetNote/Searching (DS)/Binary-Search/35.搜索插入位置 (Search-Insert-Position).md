---
LCID: LC-35
Title: 35.æœç´¢æ’å…¥ä½ç½® (Search-Insert-Position)
Type: A
tags:
  - Array
  - BinarySearch
  - Two-Pointers
Difficulty: Easy
Time: O(logn)
Space: O(1)
Like: true
Solution: äºŒåˆ†æ³•
SourceLink: https://leetcode.cn/problems/search-insert-position
DateStarted: 2023-09-03
DateDone: 2023-09-04
DateModified: 2023-10-01
aliases:
  - LC-35
status: 
DateReviewed: 2023-10-01T00:00:00.000+08:00
Reviewed: 2
Comment: äºŒåˆ†æ³•, å·¦å³æŒ‡é’ˆåŸºç¡€; âš ï¸æ³¨æ„ä¸­é—´æ•°å£°æ˜åœ¨å¾ªç¯ä½“å†…éƒ¨
TimeNeed: Good
---
# 35.æœç´¢æ’å…¥ä½ç½® (Search-Insert-Position)
## é¢˜ç›®è¦æ±‚
æœ¬é¢˜è¦æ±‚è¿”å›<mark style="background: #FFF3A3A6;">ä¸€ä¸ªæ•´æ•°</mark>åœ¨<mark style="background: #FFF3A3A6;">ä¸€ä¸ªé¡ºåºæ’åˆ—çš„æ•°ç»„</mark>ä¸­çš„ä½ç½®
## [[æ ¸å¿ƒæ–¹æ³•]]
- [[æ ¸å¿ƒæ–¹æ³•#äºŒåˆ†æ³• (åˆ†æ²»)]]
## å…³é”®æ­¥éª¤
## ä»£ç å®ç° (JS)
æœ¬é¢˜ä½¿ç”¨äºŒåˆ†æ³•ï¼Œå¯æ»¡è¶³æ—¶é—´å¤æ‚åº¦ `O(logn)`ï¼Œç©ºé—´å¤æ‚åº¦ `O(1)`

```js
var searchInsert = function (nums, target) {
Â  Â  let left = 0;
Â  Â  let right = nums.length - 1;
Â  Â  while (left <= right) {
Â  Â  Â  Â  let mi = Math.trunc((left + right) / 2);
Â  Â  Â  Â  if (target === nums[mi]) {
Â  Â  Â  Â  Â  Â  return mi;
Â  Â  Â  Â  } else if (target < nums[mi]) {
Â  Â  Â  Â  Â  Â  right = mi - 1;
Â  Â  Â  Â  } else if (target > nums[mi]) {
Â  Â  Â  Â  Â  Â  left = mi + 1;
Â  Â  Â  Â  }
Â  Â  }
Â  Â  return left;
};
```

## å®ç°è¿‡ç¨‹æ€»ç»“
### ä¸€ã€ç¡®å®šå˜é‡
> è¿™ä¸€æ­¥ä¸å®¹æ˜“ï¼Œä¸€å¼€å§‹å¾€å¾€åªèƒ½æƒ³åˆ°åˆ©ç”¨ä¸­é—´ä½ç½®(mi)ï¼Œå¾ˆéš¾å……åˆ†æƒ³åˆ°æ•°ç»„å·¦å³ä½ç½®å˜é‡çš„å¦™ç”¨
1. æ€è€ƒç»™å®šå˜æˆ–å·²çŸ¥å˜é‡: `nums`, `target`
2. å®šä¹‰å…¶ä»–éœ€è¦çš„è¾“å…¥ã€è¾“å‡ºå˜é‡: `left`, `right`, `mi` (middleIndex), `len` (`nums.length`)
### äºŒã€ç¡®å®šå¾ªç¯æ¡ä»¶
ä»äºŒåˆ†æ³•ç‰¹ç‚¹å‡ºå‘ï¼Œæ¯æ¬¡æ•°ç»„é•¿åº¦åˆ‡åŠï¼Œåˆ¤æ–­æ•°ç»„é•¿åº¦æ˜¯å¦å¤§äºç­‰ä¸€1ï¼Œè‹¥æ˜¯ï¼Œåˆ™å¾ªç¯ç»§ç»­ï¼Œå®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼š
1. `len >= 1` ï¼Œ`len/2`ï¼Œè¿™ç§æœ€å®¹æ˜“æƒ³åˆ°ï¼šæ¯æ¬¡æ•°ç»„é•¿åº¦åˆ‡åŠï¼Œä½†ä»¥ `len` ä½œä¸ºå˜é‡ï¼Œä¸”åªè€ƒè™‘ä¸­é—´ä½ç½®çš„è¯ï¼Œææ˜“é—æ¼æƒ…å†µ
2. `right >= left`, è‹¥ç›®æ ‡åœ¨å·¦ï¼Œåˆ™ `right = mi - 1`ï¼Œè‹¥ç›®æ ‡åœ¨å³ï¼Œåˆ™`left = mi + 1` Â 
#### ä¸‰ã€è€ƒè™‘å¹¶æµ‹è¯•æ‰€æœ‰å¯èƒ½æƒ…å†µï¼Œç»˜å›¾å¯è§†åŒ–
> è¿™ä¸€æ­¥å¯ç”¨ DrawIO ç»˜å›¾æˆ–åŠ¨ç¬”è®°å½•ï¼Œèƒ½é¿å…é—æ¼ï¼Œå¹¶å‡è½»å¤§è„‘è´Ÿæ‹…ï¼Œæ¯é€šè¿‡ä¸€ç§æƒ…å†µï¼Œæ ‡ç»¿ä¸€ä¸ªï¼Œç¡®ä¿æ‰€æœ‰è¾¹é™…æƒ…å†µéƒ½åœ¨å†…å³å¯ï¼Œå¯ä»¥ä¸ç”¨æµ‹è¯•å¤ªå¤šâ€¦â€¦ï¼š  
- ![LC-35-Input.png](https://pic.leetcode.cn/1693892392-FKotLV-LC-35-Input.png)
- ç»˜åˆ¶åˆæ­¥æµç¨‹å›¾ï¼šç¬¬ä¸€ç‰ˆç›´æ¥ç‚¸äº†ğŸ¤£ï¼Œé«˜è¾¾ 11 ä¸ª `if...else` åˆ¤æ–­â€¦â€¦â€¦â€¦â€¦â€¦â€¦  
![LC-35-DR-Binary Search-v1.png](https://pic.leetcode.cn/1693892374-SfAGIB-LC-35-DR-Binary%20Search-v1.png)
#### å››ã€åˆå¹¶ç²¾ç®€ï¼Œå‹¿æ­»ç£•
> è¿™ä¸€æ­¥å®åœ¨ä¸è¡Œä¸è¦æ­»ç£•ï¼Œä¸è¦ç¡¬æŠ—â€¦â€¦ ä¸é˜²çœ‹çœ‹é¢˜è§£ï¼Œæˆ–è®¸ç›´æ¥è±ç„¶å¼€æœ—ï¼Œçœä¸‹ä¸å°‘æ—¶é—´
- ç¬¬äºŒç‰ˆï¼šç²¾ç®€åˆ° 8 ä¸ªåˆ¤æ–­ï¼Œä½†ä»£ç è¿˜æ˜¯é•¿åˆ°ä¸è¡Œï¼Œè¿˜å†™å‡ºä¸€ä¸ª bugâ€¦â€¦  
Â  Â  - ![LC-35-DR-Binary Search-v2.png](https://pic.leetcode.cn/1693895111-VpGCkW-LC-35-DR-Binary%20Search-v2.png)
- ç¬¬ä¸‰ç‰ˆï¼šå‚è€ƒé¢˜è§£ï¼Œåªéœ€ 3 ä¸ªåˆ¤æ–­ï¼Œå·®è·ä¸€ç›®äº†ç„¶â€¦â€¦  
Â  Â  - ![LC-35-DR-Binary Search-v3.png](https://pic.leetcode.cn/1693895686-cTbfQz-LC-35-DR-Binary%20Search-v3.png)
#### äº”ã€ä»£ç å®ç°é™¤ BUGï¼Œå–„ç”¨ GPT
> è¿™ä¸€æ­¥å¦‚æœå‡ºç° Bugï¼Œé—® ChatGPT æ˜¯çœŸé¦™ï¼Œä¸è¿‡ä¹Ÿä¸èƒ½å…¨å¬å…¨ä¿¡ï¼Œå‚è€ƒå‚è€ƒï¼Œè‡ªå·±åˆ¤æ–­

- ! åˆ‡è®° JS æ¡ä»¶åˆ¤æ–­ä¸è¦ç”¨ `=`ï¼Œè€Œæ˜¯ç”¨ `===` 
- ![LC-35-GPT.png|325](https://pic.leetcode.cn/1693896176-JriCWN-LC-35-GPT.png)